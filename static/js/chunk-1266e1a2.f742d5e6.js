(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1266e1a2"],{"3e38":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("1a06");function i(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}function a(t,e){if(null==t)return{};var n,a,o=i(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},af8c:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.openDialog()}}},[t._v(" "+t._s(t.$t("table.add"))+" ")]),n("el-button",{attrs:{type:"primary",size:"mini",loading:t.listLoading},on:{click:function(e){return t.fetchData()}}},[t._v(" "+t._s(t.$t("table.refresh"))+" ")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"",size:"mini","highlight-current-row":""}},[n("el-table-column",{attrs:{label:t.$t("notifyConfig.channel"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.channel)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("notifyConfig.module"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$t("notifyConfig."+e.row.module))+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("technology.enable"),align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#dcdfe6"},on:{change:function(n){return t.enable(n,e.row)}},model:{value:e.row.enable,callback:function(n){t.$set(e.row,"enable",n)},expression:"scope.row.enable"}})]}}])}),n("el-table-column",{attrs:{label:t.$t("table.actions"),align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.editDialog(i)}}},[t._v(t._s(t.$t("table.edit")))]),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.del(i)}}},[t._v(t._s(t.$t("table.delete")))])]}}])})],1),n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{ref:"dataForm",staticStyle:{width:"550px","margin-left":"50px"},attrs:{model:t.info,"label-position":"left","label-width":"120px"}},[n("el-form-item",{attrs:{label:t.$t("notifyConfig.channel"),prop:"channel"}},[n("el-select",{model:{value:t.info.channel,callback:function(e){t.$set(t.info,"channel",e)},expression:"info.channel"}},[n("el-option",{attrs:{label:t.$t("dingding"),value:"dingding"}}),n("el-option",{attrs:{label:t.$t("slack"),value:"slack"}})],1)],1),n("el-form-item",{attrs:{label:t.$t("notifyConfig.module"),prop:"module"}},[n("el-select",{model:{value:t.info.module,callback:function(e){t.$set(t.info,"module",e)},expression:"info.module"}},[n("el-option",{attrs:{label:t.$t("notifyConfig.futures"),value:"futures"}}),n("el-option",{attrs:{label:t.$t("notifyConfig.futures_test"),value:"futures_test"}}),n("el-option",{attrs:{label:t.$t("notifyConfig.futures_position_convert"),value:"futures_position_convert"}}),n("el-option",{attrs:{label:t.$t("notifyConfig.coin_notice"),value:"coin_notice"}}),n("el-option",{attrs:{label:t.$t("notifyConfig.coin_listen"),value:"coin_listen"}}),n("el-option",{attrs:{label:t.$t("notifyConfig.funding_rate"),value:"funding_rate"}}),n("el-option",{attrs:{label:t.$t("notifyConfig.new_coin_rush"),value:"new_coin_rush"}})],1)],1),"dingding"===t.info.channel?n("el-form-item",{attrs:{label:t.$t("notifyConfig.dingding_token"),prop:"dingding_token"}},[n("el-input",{staticStyle:{width:"500px"},model:{value:t.info.dingding_token,callback:function(e){t.$set(t.info,"dingding_token",e)},expression:"info.dingding_token"}})],1):t._e(),"dingding"===t.info.channel?n("el-form-item",{attrs:{label:t.$t("notifyConfig.dingding_word"),prop:"dingding_word"}},[n("el-input",{staticStyle:{width:"200px"},model:{value:t.info.dingding_word,callback:function(e){t.$set(t.info,"dingding_word",e)},expression:"info.dingding_word"}})],1):t._e(),"slack"===t.info.channel?n("el-form-item",{attrs:{label:t.$t("notifyConfig.slack_token"),prop:"slack_token"}},[n("el-input",{staticStyle:{width:"500px"},model:{value:t.info.slack_token,callback:function(e){t.$set(t.info,"slack_token",e)},expression:"info.slack_token"}})],1):t._e(),"slack"===t.info.channel?n("el-form-item",{attrs:{label:t.$t("notifyConfig.slack_channel_id"),prop:"slack_channel_id"}},[n("el-input",{staticStyle:{width:"200px"},model:{value:t.info.slack_channel_id,callback:function(e){t.$set(t.info,"slack_channel_id",e)},expression:"info.slack_channel_id"}})],1):t._e()],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("table.cancel")))]),n("el-button",{attrs:{type:"primary",loading:t.dialogLoading},on:{click:function(e){t.info.id?t.edit(t.info):t.addConfig(t.info)}}},[t._v(t._s(t.$t("table.confirm")))])],1)],1)],1)},a=[],o=n("3e38"),l=n("62eb"),c=n("0f30"),r=n("f194"),s=(n("4cc3"),n("90c8"),n("6e0d"),n("eb9e"),n("b775"));function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s["a"])({url:"/notify-config",method:"get",params:t})}function f(t,e){return Object(s["a"])({url:"/notify-config/".concat(t),method:"put",data:e})}function d(t){return Object(s["a"])({url:"/notify-config",method:"post",data:t})}function b(t){return Object(s["a"])({url:"/notify-config/".concat(t),method:"delete"})}var g=["id","enable"],p={data:function(){return{list:[],sort:"+",listLoading:!1,timeId:null,dialogFormVisible:!1,dialogLoading:!1,dialogTitle:"新增通知配置",info:{}}},created:function(){var t=this;return Object(r["a"])(Object(c["a"])().m((function e(){return Object(c["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,t.fetchData();case 1:return e.a(2)}}),e)})))()},methods:{fetchData:function(){var t=this;return Object(r["a"])(Object(c["a"])().m((function e(){var n,i;return Object(c["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,u();case 1:n=e.v,i=n.data,t.list=i.map((function(t){return Object(l["a"])(Object(l["a"])({},t),{},{enable:t.enable>0})}));case 2:return e.a(2)}}),e)})))()},edit:function(t){var e=this;return Object(r["a"])(Object(c["a"])().m((function n(){var i,a,r;return Object(c["a"])().w((function(n){while(1)switch(n.n){case 0:return i=t.id,a=t.enable,r=Object(o["a"])(t,g),n.p=1,n.n=2,f(i,Object(l["a"])(Object(l["a"])({},r),{},{enable:a?1:0}));case 2:return e.$message({message:e.$t("table.actionSuccess"),type:"success"}),n.n=3,e.fetchData();case 3:n.n=5;break;case 4:n.p=4,n.v,e.$message({message:e.$t("table.actionFail"),type:"success"});case 5:return n.a(2)}}),n,null,[[1,4]])})))()},del:function(t){var e=this;this.$confirm(this.$t("table.deleteConfirm")).then(Object(r["a"])(Object(c["a"])().m((function n(){return Object(c["a"])().w((function(n){while(1)switch(n.n){case 0:return n.p=0,n.n=1,b(t.id);case 1:return e.$message({message:e.$t("table.deleteSuccess"),type:"success"}),n.n=2,e.fetchData();case 2:n.n=4;break;case 3:n.p=3,n.v,e.$message({message:e.$t("table.deleteFail"),type:"success"});case 4:return n.a(2)}}),n,null,[[0,3]])})))).catch((function(){}))},enable:function(t,e){var n=this;return Object(r["a"])(Object(c["a"])().m((function t(){return Object(c["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,n.edit(e);case 1:return t.a(2)}}),t)})))()},openDialog:function(){this.dialogTitle=this.$t("table.add"),this.dialogFormVisible=!0},editDialog:function(t){this.info=Object(l["a"])({},t),this.dialogTitle=this.$t("table.edit"),this.dialogFormVisible=!0},addConfig:function(t){var e=this;return Object(r["a"])(Object(c["a"])().m((function n(){var i;return Object(c["a"])().w((function(n){while(1)switch(n.n){case 0:return i=Object(l["a"])(Object(l["a"])({},t),{},{createTime:+new Date,updateTime:+new Date}),n.n=1,d(i);case 1:return n.n=2,e.fetchData();case 2:e.dialogFormVisible=!1;case 3:return n.a(2)}}),n)})))()}}},m=p,h=n("16b1"),_=Object(h["a"])(m,i,a,!1,null,null,null);e["default"]=_.exports}}]);