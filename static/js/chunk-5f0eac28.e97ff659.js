(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f0eac28"],{1:function(t,e){},"16dd":function(t,e,n){"use strict";var r=n("38e0"),o=n("9648"),a=n("39d3"),i=n("87ef"),s=n("ad41"),c=[],u=c.sort,l=i((function(){c.sort(void 0)})),d=i((function(){c.sort(null)})),f=s("sort"),p=l||!d||!f;r({target:"Array",proto:!0,forced:p},{sort:function(t){return void 0===t?u.call(a(this)):u.call(a(this),o(t))}})},2465:function(t,e,n){"use strict";n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"i",(function(){return i})),n.d(e,"p",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"o",(function(){return p})),n.d(e,"q",(function(){return b})),n.d(e,"r",(function(){return m})),n.d(e,"j",(function(){return h})),n.d(e,"l",(function(){return v})),n.d(e,"k",(function(){return w})),n.d(e,"n",(function(){return g})),n.d(e,"t",(function(){return _})),n.d(e,"d",(function(){return y})),n.d(e,"m",(function(){return O})),n.d(e,"s",(function(){return j}));var r=n("b775");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/features",method:"get",params:t})}function a(t){return Object(r["a"])({url:"/features/".concat(t),method:"get"})}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/features-options",method:"get",params:t})}function s(t,e){return Object(r["a"])({url:"/features/".concat(t),method:"put",data:e})}function c(t){return Object(r["a"])({url:"/features",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/features/".concat(t),method:"delete"})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(r["a"])({url:"/features/enable/".concat(t),method:"put"})}function d(t){return Object(r["a"])({url:"/features/batch",method:"put",data:t})}function f(){return Object(r["a"])({url:"/config",method:"get"})}function p(t){return Object(r["a"])({url:"/config",method:"put",data:t})}function b(){return Object(r["a"])({url:"/start",method:"post"})}function m(){return Object(r["a"])({url:"/stop",method:"post"})}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/futures/account",method:"get",params:t})}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/futures/positions",method:"get",params:t})}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/futures/open-orders",method:"get",params:t})}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/futures/local/positions",method:"get",params:t})}function _(t,e){return Object(r["a"])({url:"/futures/local/positions/".concat(t),method:"put",data:e})}function y(t,e){return Object(r["a"])({url:"/futures/local/positions/".concat(t),method:"delete",data:e})}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["a"])({url:"/futures/local/open-orders",method:"get",params:t})}function j(t,e){return Object(r["a"])({url:"/features/strategy-rule/test/".concat(t),method:"post",data:e})}},"35db":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-tabs",{model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},[n("el-tab-pane",{attrs:{label:t.$t("trade.position"),name:"position"}},[n("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},[n("div",{staticStyle:{display:"flex","flex-flow":"row wrap",gap:"10px","justify-content":"center","align-items":"center"}},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:t.$t("trade.coin"),size:"small"},model:{value:t.search.symbol,callback:function(e){t.$set(t.search,"symbol",e)},expression:"search.symbol"}}),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.searchFuturesPositions}},[t._v(" "+t._s(t.$t("table.search"))+" ")]),n("div",{staticStyle:{float:"right","margin-right":"20px"}},[t._v(t._s(t.$t("trade.nowProfit"))+": "+t._s(t.allProfit))]),n("div",{staticStyle:{float:"right","margin-right":"130px"}},[t._v(t._s(t.$t("trade.positionCount"))+": "+t._s(t.positions.length))])],1),n("div",{staticStyle:{display:"flex","flex-flow":"row wrap",gap:"10px","align-items":"center"}},[n("el-select",{staticStyle:{width:"80px"},attrs:{size:"small"},on:{change:t.changeRefreshInterval},model:{value:t.interval,callback:function(e){t.interval=e},expression:"interval"}},t._l(30,(function(t){return n("el-option",{key:t,attrs:{label:t+"s",value:t}})})),1),n("span",[t._v(t._s(t.$t("table.refreshInterval")))])],1)]),n("el-table",{attrs:{data:t.positions,"element-loading-text":"Loading",border:"",fit:"",size:"mini","row-key":t.rowKey,"expand-row-keys":t.expandKeys,"highlight-current-row":""},on:{"sort-change":t.sortChange,"expand-change":t.expandChange}},[n("el-table-column",{attrs:{label:t.$t("position.symbol"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.symbol)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("position.positionAmt"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.amount)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("position.entryPrice"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.entry_price)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("position.markPrice"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.mark_price)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("position.unrealizedProfit"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nowProfit<0?n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.unrealized_profit))]):n("span",{staticStyle:{color:"green"}},[t._v(t._s(e.row.unrealized_profit))])]}}])}),n("el-table-column",{attrs:{label:t.$t("position.nowProfit"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nowProfit<0?n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.nowProfit))]):n("span",{staticStyle:{color:"green"}},[t._v(t._s(e.row.nowProfit))])]}}])}),n("el-table-column",{attrs:{label:t.$t("position.leverage"),align:"center",width:"75"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticClass:"edit-input",attrs:{size:"mini"},on:{blur:function(n){return t.edit(e.row)}},model:{value:e.row.leverage,callback:function(n){t.$set(e.row,"leverage",n)},expression:"scope.row.leverage"}})]}}])}),n("el-table-column",{attrs:{label:t.$t("position.positionSide"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$t("positionSide."+e.row.side))+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("position.isolated"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0!=e.row.isolated_wallet?t.$t("position.isolated"):t.$t("position.crossed"))+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("table.actions"),align:"center",width:"80","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.del(r)}}},[t._v(t._s(t.$t("table.delete"))+" ")])]}}])})],1)],1),n("el-tab-pane",{attrs:{label:t.$t("trade.openOrder"),name:"openOrder"}},[n("el-table",{attrs:{data:t.openOrders,"element-loading-text":"Loading",border:"",fit:"",size:"mini","row-key":t.rowKey,"highlight-current-row":""}},[n("el-table-column",{attrs:{label:t.$t("order.symbol"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.symbol)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("order.price"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.price)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("order.origQty"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.orig_qty)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("order.executedQty"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.executed_qty)+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("order.side"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$t("side."+e.row.side))+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("order.positionSide"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$t("positionSide."+e.row.position_side))+" ")]}}])}),n("el-table-column",{attrs:{label:t.$t("assets.updateTime"),align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.parseTime(e.row.updateTime))+" ")]}}])})],1)],1)],1)],1)},o=[],a=n("62eb"),i=n("0f30"),s=n("f194"),c=(n("e168"),n("3dd5"),n("d987"),n("4cc3"),n("8b03"),n("16dd"),n("374d"),n("90c8"),n("8d8a"),n("6de1"),n("1a71"),n("6e0d"),n("13b1"),n("eb9e"),n("7b27"),n("2465")),u=n("ed08"),l=n("ecba"),d={data:function(){return{tabName:"position",account:{assets:[],positions:[]},positions:[],openOrders:[],search:{symbol:""},sort:"+",rowKey:function(t){return t.positionSide?t.symbol+t.positionSide:t.symbol},expandKeys:[],timeId:null,interval:30}},computed:{allProfit:function(){var t=this.positions.reduce((function(t,e){return t+Number(e.unrealized_profit)}),0);return Object(l["a"])(t,2)}},watch:{tabName:function(t){this.fetchData(t)}},created:function(){var t=this;return Object(s["a"])(Object(i["a"])().m((function e(){return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return t.interval=localStorage.getItem("accountRefreshInterval")||30,e.n=1,t.fetchData();case 1:return e.a(2)}}),e)})))()},beforeDestroy:function(){clearInterval(this.timeId)},methods:{parseTime:u["c"],changeRefreshInterval:function(t){localStorage.setItem("accountRefreshInterval",t),this.fetchData()},round:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Object(l["a"])(t,e)},expandChange:function(t,e){this.expandKeys=e.map((function(t){return t.symbol}))},sortChange:function(t){var e=t.order;this.sort="ascending"===e?"+":"-",this.fetchData()},fetchData:function(){var t=arguments,e=this;return Object(s["a"])(Object(i["a"])().m((function n(){var r;return Object(i["a"])().w((function(n){while(1)switch(n.n){case 0:r=t.length>0&&void 0!==t[0]?t[0]:null,e.timeId&&clearInterval(e.timeId),r||(r=e.tabName),"account"===r?e.getFuturesAccount():"position"===r?e.getFuturesPositions():"openOrder"===r&&e.getFuturesOpenOrders(),e.timeId=setInterval((function(){"account"===r?e.getFuturesAccount():"position"===r?e.getFuturesPositions():"openOrder"===r&&e.getFuturesOpenOrders()}),1e3*e.interval);case 1:return n.a(2)}}),n)})))()},getFuturesAccount:function(){var t=this;return Object(s["a"])(Object(i["a"])().m((function e(){var n,r,o,a,s,u;return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,Object(c["j"])();case 1:n=e.v,r=n.data,o=r.assets,a=void 0===o?[]:o,s=r.positions,u=void 0===s?[]:s,t.account={assets:a,positions:u};case 2:return e.a(2)}}),e)})))()},searchFuturesPositions:function(){var t=this;return Object(s["a"])(Object(i["a"])().m((function e(){return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,t.getFuturesPositions();case 1:return e.a(2)}}),e)})))()},getFuturesPositions:function(){var t=this;return Object(s["a"])(Object(i["a"])().m((function e(){var n,r,o;return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,Object(c["n"])();case 1:n=e.v,r=n.data.positions,o=void 0===r?[]:r,t.positions=o.filter((function(e){return!t.search.symbol||e.symbol.includes(t.search.symbol)})).map((function(e){var n=Math.abs(e.amount),r=Number(e.unrealized_profit),o=Number(e.leverage),i=Number(e.mark_price),s=r/(n*i)*o*100;return Object(a["a"])(Object(a["a"])({},e),{},{unrealized_profit:t.round(r,2),nowProfit:t.round(s,4)})}));case 2:return e.a(2)}}),e)})))()},getFuturesOpenOrders:function(){var t=this;return Object(s["a"])(Object(i["a"])().m((function e(){var n,r;return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,Object(c["m"])();case 1:n=e.v,r=n.data.openOrders,t.openOrders=r||[];case 2:return e.a(2)}}),e)})))()},edit:function(t){var e=this;return Object(s["a"])(Object(i["a"])().m((function n(){var r,o;return Object(i["a"])().w((function(n){while(1)switch(n.n){case 0:return r=t.id,o=t.leverage,n.p=1,n.n=2,Object(c["t"])(r,{leverage:Number(o)});case 2:return e.$message({message:e.$t("table.editSuccess"),type:"success"}),n.n=3,e.fetchData();case 3:n.n=5;break;case 4:n.p=4,n.v,e.$message({message:e.$t("table.editFail"),type:"error"});case 5:return n.a(2)}}),n,null,[[1,4]])})))()},del:function(t){var e=this;return Object(s["a"])(Object(i["a"])().m((function n(){return Object(i["a"])().w((function(n){while(1)switch(n.n){case 0:e.$confirm("".concat(e.$t("table.deleteConfirm")," ").concat(t.symbol,"?")).then(Object(s["a"])(Object(i["a"])().m((function n(){return Object(i["a"])().w((function(n){while(1)switch(n.n){case 0:return n.p=0,n.n=1,Object(c["d"])(t.id);case 1:return e.$message({message:e.$t("table.actionSuccess"),type:"success"}),n.n=2,e.fetchData();case 2:n.n=4;break;case 3:n.p=3,n.v,e.$message({message:e.$t("table.actionFail"),type:"error"});case 4:return n.a(2)}}),n,null,[[0,3]])})))).catch((function(){}));case 1:return n.a(2)}}),n)})))()}}},f=d,p=n("16b1"),b=Object(p["a"])(f,r,o,!1,null,null,null);e["default"]=b.exports}}]);